import{r as i,h as e}from"./p-e97fde0a.js";import{g as t}from"./p-93127aa7.js";import{a as o}from"./p-401e165e.js";const a=":host{display:block}.sc-product-variation-choice-wrap{display:flex;flex-direction:column;gap:var(--sc-variation-gap, 12px)}";const s=a;const n=class{constructor(e){i(this,e);this.heading=undefined;this.product=undefined;this.price=undefined;this.subscription=undefined;this.busy=false;this.variantValues=[];this.handleSubmit=this.handleSubmit.bind(this)}componentWillLoad(){var i;this.variantValues=(i=this.subscription)===null||i===void 0?void 0:i.variant_options}async handleSubmit(){var i,e,a,s;this.busy=true;const n=t({variants:(e=(i=this.product)===null||i===void 0?void 0:i.variants)===null||e===void 0?void 0:e.data,values:this.variantValues});if((a=this.price)===null||a===void 0?void 0:a.ad_hoc){return window.location.assign(o(window.location.href,{action:"confirm_amount",price_id:(s=this.price)===null||s===void 0?void 0:s.id,variant:n===null||n===void 0?void 0:n.id}))}return window.location.assign(o(window.location.href,{action:"confirm",variant:n===null||n===void 0?void 0:n.id}))}buttonText(){var i,e,t,o;if((i=this.price)===null||i===void 0?void 0:i.ad_hoc){if(((e=this.price)===null||e===void 0?void 0:e.id)===((o=(t=this.subscription)===null||t===void 0?void 0:t.price)===null||o===void 0?void 0:o.id)){return wp.i18n.__("Update Amount","surecart")}return wp.i18n.__("Choose Amount","surecart")}return wp.i18n.__("Next","surecart")}render(){var i,t;return e("sc-dashboard-module",{key:"7648cdad1711adacf4b87d2574bcbb6eb08ea13d",heading:this.heading||wp.i18n.__("Enter An Amount","surecart"),class:"subscription-switch"},e("sc-card",{key:"788dc3fd324f6b423974dd2dfe82d3003c163447"},e("sc-form",{key:"fb229b6ada9c482705bf4600970f533c77ad6282",onScSubmit:this.handleSubmit},e("div",{key:"bfeecb2e13175b5889a8311fc3af693de41f1e89",class:"sc-product-variation-choice-wrap"},(((t=(i=this.product)===null||i===void 0?void 0:i.variant_options)===null||t===void 0?void 0:t.data)||[]).map((({name:i,values:t,id:o},a)=>{var s,n;return e("sc-select",{exportparts:"base:select__base, input, form-control, label, help-text, trigger, panel, caret, menu__base, spinner__base, empty",part:"name__input",value:((n=(s=this.subscription)===null||s===void 0?void 0:s.variant_options)===null||n===void 0?void 0:n[a])||"",onScChange:i=>{this.variantValues[a]=i.detail.value},label:i,choices:t===null||t===void 0?void 0:t.map((i=>({label:i,value:i}))),unselect:false,key:o})}))),e("sc-button",{key:"3cac88c35ef8566098b75d54a9b2441a639ecaf6",type:"primary",full:true,submit:true,loading:this.busy},this.buttonText()," ",e("sc-icon",{key:"bb6457a234d5e73e3166169bbac4c2e7b67cbbda",name:"arrow-right",slot:"suffix"})))),this.busy&&e("sc-block-ui",{key:"71b1fdc18fb7b7ef692036198d91125fc986f958",style:{zIndex:"9"}}))}};n.style=s;export{n as sc_subscription_variation_confirm};
//# sourceMappingURL=p-8cf3be6f.entry.js.map