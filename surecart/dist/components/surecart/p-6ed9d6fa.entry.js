import{r as t,h as i,F as l}from"./p-e97fde0a.js";import{f as s}from"./p-ff10bfbf.js";import{s as o}from"./p-53e7f7d7.js";import"./p-95325ec5.js";import"./p-03631502.js";import"./p-9dbc54d6.js";import"./p-d3366af3.js";import"./p-401e165e.js";import"./p-830ab1a3.js";import"./p-ec182234.js";import"./p-3f6362a4.js";import"./p-4df6e0c5.js";const e=":host{display:block}sc-line-item{text-align:left}.line-item-total__group sc-line-item{margin:4px 0px !important}.scratch-price{text-decoration:line-through;color:var(--sc-color-gray-500);font-size:var(--sc-font-size-small);margin-right:var(--sc-spacing-xx-small)}sc-line-item::part(base){grid-template-columns:max-content auto auto}.total-price{white-space:nowrap}.currency-label{color:var(--sc-color-gray-500);font-size:var(--sc-font-size-xx-small);margin-right:var(--sc-spacing-xx-small);vertical-align:middle}sc-divider{margin:16px 0 !important}.conversion-description{color:var(--sc-color-gray-500);font-size:var(--sc-font-size-small);margin-right:var(--sc-spacing-xx-small)}.total-payments-tooltip::part(base){display:flex;align-items:center;gap:0.25em}";const n=e;const r=class{constructor(i){t(this,i);this.order_key={total:"total_amount",subtotal:"subtotal_amount",amount_due:"amount_due"};this.total="total";this.size=undefined;this.checkout=undefined}hasInstallmentPlan(t){return(t===null||t===void 0?void 0:t.full_amount)!==(t===null||t===void 0?void 0:t.subtotal_amount)}hasSubscription(t){var i;return(((i=t===null||t===void 0?void 0:t.line_items)===null||i===void 0?void 0:i.data)||[]).some((t=>{var i,l,s;return((i=t===null||t===void 0?void 0:t.price)===null||i===void 0?void 0:i.recurring_interval)==="month"&&!!((l=t===null||t===void 0?void 0:t.price)===null||l===void 0?void 0:l.recurring_interval)&&!((s=t===null||t===void 0?void 0:t.price)===null||s===void 0?void 0:s.recurring_period_count)}))}renderLineItemTitle(t){if(this.total==="total"&&this.hasInstallmentPlan(t)){return i("span",{slot:"title"},i("slot",{name:"first-payment-total-description"},wp.i18n.__("Subtotal","surecart")))}return i("span",{slot:"title"},i("slot",{name:"title"}))}renderCheckoutFees(t){var s,o,e,n;if(!((o=(s=t===null||t===void 0?void 0:t.checkout_fees)===null||s===void 0?void 0:s.data)===null||o===void 0?void 0:o.length)){return null}return i(l,null,(n=(e=t===null||t===void 0?void 0:t.checkout_fees)===null||e===void 0?void 0:e.data)===null||n===void 0?void 0:n.map((t=>i("sc-line-item",{key:t.id},i("span",{slot:"description"},t.description),i("span",{slot:"price"},t.display_amount)))))}renderLineItemDescription(t){if(this.total==="subtotal"&&this.hasInstallmentPlan(t)){return i("span",{slot:"description"},i("slot",{name:"first-payment-subtotal-description"},wp.i18n.__("Initial Payment","surecart")))}return i("span",{slot:"description"},i("slot",{name:"description"}))}getCurrencyToDisplay(){var t,i,l,s;const e=this.checkout||(o===null||o===void 0?void 0:o.checkout);return((i=(t=e===null||e===void 0?void 0:e.amount_due_default_currency_display_amount)===null||t===void 0?void 0:t.toLowerCase())===null||i===void 0?void 0:i.includes((l=e===null||e===void 0?void 0:e.currency)===null||l===void 0?void 0:l.toLowerCase()))?"":(s=e===null||e===void 0?void 0:e.currency)===null||s===void 0?void 0:s.toUpperCase()}renderConversion(){var t;if(this.total!=="total"){return null}const s=this.checkout||(o===null||o===void 0?void 0:o.checkout);if(!(s===null||s===void 0?void 0:s.show_converted_total)){return null}if((s===null||s===void 0?void 0:s.currency)===(s===null||s===void 0?void 0:s.current_currency)){return null}if(!(s===null||s===void 0?void 0:s.amount_due)){return null}return i(l,null,i("sc-divider",null),i("sc-line-item",{style:{"--price-size":"var(--sc-font-size-x-large)"}},i("span",{slot:"title"},i("slot",{name:"charge-amount-description"},wp.i18n.__("Payment Total","surecart"))),i("span",{slot:"price"},this.getCurrencyToDisplay()&&i("span",{class:"currency-label"},this.getCurrencyToDisplay()),s===null||s===void 0?void 0:s.amount_due_default_currency_display_amount)),i("sc-line-item",null,i("span",{slot:"description",class:"conversion-description"},wp.i18n.sprintf(wp.i18n.__("Your payment will be processed in %s.","surecart"),(t=s===null||s===void 0?void 0:s.currency)===null||t===void 0?void 0:t.toUpperCase()))))}render(){var t;const e=this.checkout||(o===null||o===void 0?void 0:o.checkout);if(s()&&!(e===null||e===void 0?void 0:e[(t=this===null||this===void 0?void 0:this.order_key)===null||t===void 0?void 0:t[this===null||this===void 0?void 0:this.total]])){return i("sc-line-item",null,i("sc-skeleton",{slot:"title",style:{width:"120px",display:"inline-block"}}),i("sc-skeleton",{slot:"price",style:{width:"70px",display:"inline-block",height:this.size==="large"?"40px":"","--border-radius":"6px"}}))}if(!(e===null||e===void 0?void 0:e.currency))return;if(this.total==="total"&&(e===null||e===void 0?void 0:e.total_amount)!==(e===null||e===void 0?void 0:e.amount_due)){return i("div",{class:"line-item-total__group"},i("sc-line-item",null,i("span",{slot:"description"},this.hasInstallmentPlan(e)?this.renderLineItemTitle(e):i(l,null,i("slot",{name:"title"}),i("slot",{name:"description"}))),i("span",{slot:"price"},i("sc-total",{total:this.total,checkout:e}))),!!e.trial_amount&&i("sc-line-item",null,i("span",{slot:"description"},i("slot",{name:"free-trial-description"},wp.i18n.__("Trial","surecart"))),i("span",{slot:"price"},e===null||e===void 0?void 0:e.trial_display_amount)),i("sc-line-item",{style:{"--price-size":"var(--sc-font-size-x-large)"}},this.hasSubscription(e)?i("span",{slot:"title"},i("slot",{name:"subscription-title"},wp.i18n.__("Total Due Today","surecart"))):i("span",{slot:"title"},i("slot",{name:"due-amount-description"},wp.i18n.__("Amount Due","surecart"))),i("span",{slot:"price"},e===null||e===void 0?void 0:e.amount_due_display_amount)),this.renderConversion())}return i(l,null,this.total==="subtotal"&&this.hasInstallmentPlan(e)&&i("sc-line-item",{style:this.size==="large"?{"--price-size":"var(--sc-font-size-x-large)"}:{}},i("span",{slot:"description"},!!(e===null||e===void 0?void 0:e.discount_amount)?i("sc-tooltip",{class:"total-payments-tooltip",type:"text",text:wp.i18n.__("This is the total of all installment payments at full price, before any discounts are applied.","surecart"),width:"275px"},i("slot",{name:"total-payments-description"},wp.i18n.__("Total Installments","surecart"))," ",wp.i18n.__("(before discounts)","surecart"),i("sc-icon",{name:"info","aria-hidden":"true"}),i("sc-visually-hidden",null,wp.i18n.__("This is the total of all installment payments at full price, before any discounts are applied.","surecart"))):i("slot",{name:"total-payments-description"},wp.i18n.__("Total Installments","surecart"))),i("span",{slot:"price"},e===null||e===void 0?void 0:e.full_display_amount)),i("sc-line-item",{style:this.size==="large"?{"--price-size":"var(--sc-font-size-x-large)"}:{}},this.renderLineItemTitle(e),this.renderLineItemDescription(e),i("span",{slot:"price"},!!(e===null||e===void 0?void 0:e.total_savings_amount)&&this.total==="total"&&i("span",{class:"scratch-price"},e===null||e===void 0?void 0:e.total_scratch_display_amount),i("sc-total",{class:"total-price",total:this.total,checkout:e}))),this.renderConversion(),this.total==="subtotal"&&this.renderCheckoutFees(e))}};r.style=n;export{r as sc_line_item_total};
//# sourceMappingURL=p-6ed9d6fa.entry.js.map